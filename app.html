<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FBIF OneClick Publish</title>
    <link rel="stylesheet" href="styles/vendor/pico.min.css" />
    <link rel="stylesheet" href="styles/app.css" />
  </head>
  <body>
    <main class="container app-shell">
      <header class="app-header">
        <div>
          <p class="meta-label">FBIF Distribution</p>
          <h1>内容提取与多平台发布</h1>
        </div>
        <div class="header-actions">
          <label class="inline-switch" for="followTabsInput">
            <input id="followTabsInput" type="checkbox" checked />
            <span>跟随标签页跳转</span>
          </label>
          <button id="clearLogsButton" class="secondary outline" type="button">清空日志</button>
        </div>
      </header>

      <section class="card-block" aria-labelledby="extract-title">
        <h2 id="extract-title">1. 提取公众号内容</h2>
        <div class="extract-row">
          <input id="urlInput" type="url" placeholder="https://mp.weixin.qq.com/s?..." />
          <button id="extractButton" type="button">提取正文</button>
        </div>
        <p id="extractStatus" class="status" data-tone="info">请输入公众号链接并点击“提取正文”</p>

        <div class="metrics-grid">
          <article>
            <span>字数</span>
            <strong id="wordCount">0</strong>
          </article>
          <article>
            <span>图片数</span>
            <strong id="imageCount">0</strong>
          </article>
          <article>
            <span>段落数</span>
            <strong id="paragraphCount">0</strong>
          </article>
        </div>

        <ul id="validationList" class="validation-list"></ul>
      </section>

      <section class="card-block" aria-labelledby="preview-title">
        <h2 id="preview-title">2. 内容预览</h2>
        <label for="titleInput">标题</label>
        <input id="titleInput" type="text" placeholder="提取后可修改标题" />

        <figure class="cover-box">
          <img id="coverPreview" class="placeholder" alt="封面预览" />
        </figure>

        <article id="contentPreview" class="content-preview"></article>
      </section>

      <section class="card-block" aria-labelledby="publish-title">
        <h2 id="publish-title">3. 平台发布</h2>
        <div id="platformList" class="platform-list"></div>

        <div class="publish-row">
          <button id="publishButton" type="button">同步发布</button>
          <div class="progress-wrap" role="status">
            <div class="progress-track">
              <div id="publishProgressBar" class="progress-bar"></div>
            </div>
            <p id="publishProgressText">待发布</p>
          </div>
        </div>

        <ul id="publishResultList" class="publish-result-list"></ul>
      </section>

      <section class="card-block" aria-labelledby="log-title">
        <h2 id="log-title">运行日志</h2>
        <ul id="logList" class="log-list"></ul>
      </section>

      <section class="card-block" aria-labelledby="draft-title">
        <h2 id="draft-title">失败回退草稿</h2>
        <ul id="failedDraftList" class="draft-list"></ul>
      </section>
    </main>

    <script type="module" src="src/app.js"></script>
  </body>
</html>
